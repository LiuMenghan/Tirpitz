'use strict';

exports = module.exports = function(){	
	return exports;
}

/**
 * parentNode : 父节点
 * children ： 子节点数组
 * text : 节点文本
 * processorName : 要调用的processor的名字
 * attribute : 节点属性
 */
exports.build = function(parentNode, children, text, processorName, attributePlain){
	var result = {
		parentNode : parentNode,
		children : children,
		text : text
	}
	result.processorName = undefined == processorName ? "" : processorName;
	result.attribute = undefined != attributePlain && attributePlain.indexOf("{") > -1 ? JSON.parse(attributePlain) : {};
	if(null != parentNode){
		result.parentIdx = parentNode.children.length;
		parentNode.children.push(result);
	}
	return result
}